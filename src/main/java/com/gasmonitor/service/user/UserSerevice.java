package com.gasmonitor.service.user;import com.gasmonitor.dao.UserRepository;import com.gasmonitor.entity.User;import com.gasmonitor.vo.AjaxResult;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Transactional;/** * Created by saplmm on 2017/7/24. */@Servicepublic class UserSerevice {    private Logger log = LoggerFactory.getLogger(UserSerevice.class);    @Autowired    private UserRepository userRepository;    @Transactional    public AjaxResult<User> updateUser(User newUser) {        log.info("更新user的信息:{}", newUser);        if (newUser.getId() == null) {            return AjaxResult.ErrorAjaxResult("没有找到记录");        }        User old = userRepository.findOne(newUser.getId());        if (old == null) {            return AjaxResult.ErrorAjaxResult();        } else {            old.setRole(newUser.getRole());            old.setMobile(newUser.getMobile());            old.setAddress(newUser.getAddress());            old = userRepository.save(old);        }        return new AjaxResult(old);    }}