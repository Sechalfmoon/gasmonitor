package com.gasmonitor.service.websocket;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.CommandLineRunner;import org.springframework.messaging.simp.SimpMessagingTemplate;import org.springframework.stereotype.Component;/** * Created by saplmm on 2017/6/12. */@Componentpublic class MqttClient implements CommandLineRunner {    Logger log = LoggerFactory.getLogger(MqttClient.class);    public SimpMessagingTemplate template;    @Autowired    public MqttClient(SimpMessagingTemplate template) {        this.template = template;    }    @Override    public void run(String... strings) throws Exception {        log.info("开始执行myqqClient.run()...");        for (int i = 0; i < 100; i++) {            try {                Thread.sleep(1000);                log.info("开始给wyf发送信息");                template.convertAndSendToUser("wyf", "/queue/notifications", "someMsg...");                log.info("给wyf发送信息完毕");            } catch (Exception e) {            }        }    }}