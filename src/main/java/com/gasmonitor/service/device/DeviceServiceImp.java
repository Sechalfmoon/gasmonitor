package com.gasmonitor.service.device;import com.gasmonitor.dao.DeviceRepository;import com.gasmonitor.entity.Device;import com.gasmonitor.pros.HazelCastPros;import com.gasmonitor.service.device.api.DeviceService;import com.hazelcast.core.HazelcastInstance;import com.hazelcast.core.IMap;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;/** * Created by saplmm on 2017/7/10. */@Servicepublic class DeviceServiceImp implements DeviceService {    @Autowired    private DeviceRepository deviceRepository;    @Autowired    private HazelcastInstance hazelcastInstance;    @Autowired    private HazelCastPros hazelCastPros;    @Override    public Device addDevice(Device device, long tenantId) {        //1，把数据保存到数据库        device = deviceRepository.save(device);        //2,更新hazelcast的map        IMap<String, String> map = hazelcastInstance.getMap(hazelCastPros.getMaptenant());        map.set(device.getHardwareId(), tenantId + "");        return device;    }}